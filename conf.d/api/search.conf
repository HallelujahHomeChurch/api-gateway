# ============================================================================
# Search API Routes (via Dapr)
# ============================================================================
# Pattern: /api/search/v*
# Backend: search-api service via Dapr sidecar
# Dapr app-id: search-api
# ============================================================================

location ~ ^/api/search/v[0-9]+ {
    limit_req zone=api_limit burst=50 nodelay;

    include /usr/local/openresty/nginx/conf/conf.d/common/cors.conf;
    include /usr/local/openresty/nginx/conf/conf.d/common/dapr.conf;
    proxy_pass $search_api_base$uri$is_args$args;
}


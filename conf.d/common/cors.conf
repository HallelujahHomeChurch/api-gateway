# ============================================================================
# CORS Settings for API Routes
# ============================================================================
# Purpose: Enable CORS for API routes to allow cross-origin requests
# Usage: Include this file in locations that need CORS support
# ============================================================================

add_header 'Access-Control-Allow-Origin' '*' always;
add_header 'Access-Control-Allow-Methods' 'GET, POST, PUT, DELETE, PATCH, OPTIONS' always;
add_header 'Access-Control-Allow-Headers' 'Content-Type, Content-Length, Accept-Encoding, X-CSRF-Token, Authorization, accept, origin, Cache-Control, X-Requested-With' always;
add_header 'Access-Control-Max-Age' 3600 always;

# Handle OPTIONS requests
if ($request_method = 'OPTIONS') {
    return 204;
}

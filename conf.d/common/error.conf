# Error pages
error_page 403 /403.html;
location = /403.html {
    internal;
    return 403 '{"error":"Forbidden","message":"The requested resource is forbidden.","service":"api-gateway"}\n';
    add_header Content-Type application/json always;
}

error_page 404 /404.html;
location = /404.html {
    internal;
    return 404 '{"error":"Not Found","message":"The requested resource was not found.","service":"api-gateway"}\n';
    add_header Content-Type application/json always;
}

error_page 429 /429.html;
location = /429.html {
    internal;
    return 429 '{"error":"Too Many Requests","message":"Rate limit exceeded. Please try again later.","service":"api-gateway"}\n';
    add_header Content-Type application/json always;
    add_header Retry-After 1 always;
}

error_page 500 502 503 504 /50x.html;
location = /50x.html {
    internal;
    return 500 '{"error":"Internal Server Error","service":"api-gateway"}\n';
    add_header Content-Type application/json always;
}